[TOC]

# vim编辑器

## 1 基本说明

基本上vi可以分为三种状态，分为命令模式（command mode）、插入模式(insert mode)和底行模式(last line mode) 

- 命令模式：控制屏幕光标的移动，删除内容。
- 插入模式：进行文字的输入。
- 底行模式：将文件保存或退出vi。

处于插入模式只能输入文字，当需要删除文字时就要先按一下[ESC]转到命令行模式再删除文字。 

## 2 按键说明

### 2.1 基本按键

| 命令               | 说明                                                         |
| ------------------ | ------------------------------------------------------------ |
| `vi + 文件名`      | 进入vi**命令模式**。**（常用）**                             |
| `:set nu`          | 底行模式下，显示行号。                                       |
| `数字 + Enter`     | 底行模式下，跳到n行，如15之后按回车，就会跳到15行。          |
| 命令模式到插入模式 | 在**命令模式** 按下字母[i / I / o / O / a / A / r / R]进入**插入模式**。 |
| 命令模式到底行模式 | 在**命令模式**按下[:]进入**底行模式**。                      |

### 2.2 移动光标（命令模式下）

| 命令              | 说明                                 |
| ----------------- | ------------------------------------ |
| `n + ↓`           | 光标向下移动n行，如30↓。             |
| `+`               | 光标移动到非空格符的下一列           |
| `-`               | 光标移动到非空格符的上一列           |
| `n + 空格`        | 光标向右移动n个字符。                |
| `数字0` 或 `Home` | 移动到这行最前面。**（常用）**       |
| `$` 或 `End`      | 移动到这行最后面。**（常用）**       |
| `H`               | 光标移动到屏幕的左上方。             |
| `G`               | 光标移动到最后一行。**（常用）**     |
| `nG`              | 光标移动到这个档案的n第行。          |
| `gg`              | 光标移动到档案的第一行。**（常用）** |
| `n + Enter`       | 光标向下移动n行。**（常用）**        |

### 2.3 搜索与替换（命令模式下）

| 命令                  | 说明                                                         |
| --------------------- | ------------------------------------------------------------ |
| `/查询内容`           | 向光标之下寻找一个单词，如查询ddd则只需使用 `/ddd`。**（常用）** |
| `?查询内容`           | 向光标之上寻找一个单词。**（常用）**                         |
| `n`                   | 代表重复前一个搜索动作，如输入 `/ddd` ，按下 `n` 后会寻找下一个ddd单词。 |
| `N`                   | 与 `n` 相反，反向搜索。                                      |
| `n,ms/word1/word2/g`  | 在第n行到m行间寻找word1这个字符串，并将该字符串取代为word2。 |
| `:1,$s/word1/word2/g` | 从第一行到最后一行寻找word1这个字符串，并将取代为word2。**（常用）** |

### 2.4 删除、复制与粘贴（命令模式下）

| 命令        | 说明                                                         |
| ----------- | ------------------------------------------------------------ |
| `字符个数x` | 连续向后删除n个字符，如10x为向后连续删除10个字符。**（常用）** |
| `dd`        | 删除光标所在行。**（常用）**                                 |
| `行数dd`    | 删除光标所在的向下n行，如20dd为删除后面的20行。**（常用）**  |
| `yy`        | 复制光标所在的行。**（常用）**                               |
| `列数yy`    | 复制光标所在向下n列，如20yy则是复制20列。**（常用）**        |
| `p`         | 将复制的数据在光标下一行粘贴。**（常用）**                   |
| `P`         | 将复制的数据在光标上一行粘贴。**（常用）**                   |
| `u`         | 复原前一个动作。**（常用）**                                 |
| `Ctrl + r`  | 重做上一个动作。**（常用）**                                 |
| `.`         | 这是小数点，表示重复前一个动作。**（常用）**                 |

### 2.5 保存和离开vi（指令模式下）

| 命令         | 说明                           |
| ------------ | ------------------------------ |
| `:w`         | 写入数据到文件。               |
| `:q`         | 离开vi                         |
| `:q!`        | 强制离开（修改了，但不想保存） |
| `:wq`        | 保存再离开。**（常用）**       |
| `: 新文件名` | 类似另存新档。                 |





